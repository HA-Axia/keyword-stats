<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyword Data Story</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* General Page Style */
        body {
            font-family: 'Roboto', sans-serif;
            color: #333;
            margin: 0;
            padding: 0;
            background: linear-gradient(180deg, #f0f4f8, #e2e8f0);
            transition: background 0.5s ease;
        }

        h1, h2 {
            text-align: center;
            font-weight: 700;
            color: #3A3A3A;
            margin-top: 20px;
        }

        .chart-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 80%;
            max-width: 1000px; /* Increased max width for better readability */
            margin: 20px auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }

        .chart-box {
            flex: 2;
            max-height: 700px; /* Increased height for the third chart */
        }

        .description-box {
            flex: 1;
            padding-left: 20px;
            font-size: 14px;
            color: #333;
        }

        .large-chart {
            height: 800px; /* Larger canvas height for readability */
        }
    </style>
</head>
<body>
    <h1>Keyword Data Story</h1>

    <!-- First Chart and Description -->
    <div class="chart-container" id="section1">
        <div class="chart-box">
            <h2>Distribution of Competition</h2>
            <canvas id="competitionDistributionChart"></canvas>
        </div>
        <div class="description-box">
            <p>Here, we can see how many of our keywords are 'low competition'. Low competition keywords (bars toward the left of the chart) are terms that people search for, but which companies are not advertising for.</p>
        </div>
    </div>

    <!-- Second Chart and Description -->
    <div class="chart-container" id="section2">
        <div class="chart-box">
            <h2>Cumulative Monthly Searches vs Competition</h2>
            <canvas id="keywordValueMatrix"></canvas>
        </div>
        <div class="description-box">
            <p>This chart shows the cumulative search volume for keywords within different competition levels, providing insight into the volume potential of low-competition terms.</p>
        </div>
    </div>

    <!-- Third Chart and Description (Top 20 Keywords) -->
    <div class="chart-container" id="section3">
        <div class="chart-box">
            <h2>Top 20 Low-Competition Keywords by Search Volume</h2>
            <canvas id="topLowCompKeywords" class="large-chart"></canvas>
        </div>
        <div class="description-box">
            <p>Here, we see a snapshot of some of the best keywords - terms that are searched often, but which companies are not advertising for.</p>
        </div>
    </div>

    <!-- Final Competition Range Chart -->
    <div class="chart-container" id="section4">
        <div class="chart-box">
            <h2>Total Monthly Searches by Competition Range</h2>
            <canvas id="totalVolumeByCompetition"></canvas>
        </div>
        <div class="description-box">
            <p>This chart shows the total search volume across four competition ranges, allowing us to see where the bulk of search traffic lies.</p>
        </div>
    </div>

    <script>
        // Data for Distribution of Competition
        const competitionDistributionData = {
            labels: ["0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81-90", "91-100"],
            datasets: [{
                label: 'Number of Keywords',
                data: [76, 72, 68, 73, 74, 25, 11, 6, 3, 5],
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        };

        // Data for Cumulative Monthly Searches by Competition
        const cumulativeSearchData = {
            labels: ["0-10", "11-20", "21-30", "31-40", "41-50", "51-60", "61-70", "71-80", "81-90", "91-100"],
            datasets: [{
                label: 'Cumulative Monthly Searches',
                data: [10000, 20000, 15000, 25000, 30000, 10000, 5000, 2000, 1000, 500], // Replace with actual cumulative values
                backgroundColor: 'rgba(153, 102, 255, 0.6)',
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 1
            }]
        };

        // Data for Top 20 Low-Competition Keywords by Search Volume
        const topLowCompKeywordsData = {
            labels: [
                "retirement home", "retirement community", "audley villages", "over 55 retirement bungalows to rent near me", 
                "over 55 housing", "retirement housing", "housing over 55 bungalow to rent", "55 and over housing", 
                "retirement living community", "wixams retirement village", "shenley wood retirement village", 
                "hagley road retirement village", "longbridge retirement village", "new oscott village", 
                "luxury nursing home", "wallacea living", "riverstone living", "retirement communities near me", 
                "senior living communities", "Total"
            ],
            datasets: [{
                label: 'Monthly Searches',
                data: [5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 5000, 
                       500, 500, 500, 500, 500, 200000], // Reduced to top 20 keywords
                backgroundColor: 'rgba(255, 159, 64, 0.2)',
                borderColor: 'rgba(255, 159, 64, 1)',
                borderWidth: 1
            }]
        };

        // Competition Range Volume Data
        const competitionRangeData = {
            labels: ["0-25", "26-50", "51-75", "76-100"],
            datasets: [{
                data: [80200, 98600, 4300, 450], // Cumulative volumes from each competition range
                backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)'],
                borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)'],
                borderWidth: 1
            }]
        };

        // Initialize each Chart
        new Chart(document.getElementById('competitionDistributionChart'), {
            type: 'bar',
            data: competitionDistributionData,
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Distribution of Competition Among Keywords'
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'Competition Score (out of 100)' } },
                    y: { title: { display: true, text: 'Number of Keywords' } }
                }
            }
        });

        new Chart(document.getElementById('keywordValueMatrix'), {
            type: 'bar',
            data: cumulativeSearchData,
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Cumulative Monthly Searches vs Competition'
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'Competition Score (out of 100)' } },
                    y: { title: { display: true, text: 'Cumulative Monthly Searches' }, beginAtZero: true }
                }
            }
        });
        new Chart(document.getElementById('topLowCompKeywords'), {
            type: 'bar',
            data: topLowCompKeywordsData,
            options: {
                responsive: true,
                indexAxis: 'y', // Horizontal bars for better readability
                plugins: {
                    title: {
                        display: true,
                        text: 'Top 20 Low-Competition Keywords by Search Volume'
                    },
                    legend: {
                        display: false // Hide the legend for this chart
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'Monthly Searches' } },
                    y: { title: { display: true, text: 'Keywords' } }
                }
            }
        });

        new Chart(document.getElementById('totalVolumeByCompetition'), {
            type: 'bar',
            data: competitionRangeData,
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Total Monthly Searches by Competition Range'
                    },
                    legend: {
                        display: false // Remove the legend key from this chart
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'Competition Range' } },
                    y: { title: { display: true, text: 'Total Monthly Searches' } }
                }
            }
        });
    </script>
</body>
</html>

